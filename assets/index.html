<!doctype html>
<head>
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/grid.css">
    <link rel="stylesheet" href="/static/css/elm.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <audio src="/static/audio/soaring.mp3" autoplay="true" loop="true"></audio>
    <script src="/static/main.js"></script>
    <script>
        var app = Elm.Main.fullscreen()

        app.ports.readToken.subscribe(function() {
            try {
                app.ports.receiveToken.send({
                    token: localStorage.getItem('token'),
                    id: localStorage.getItem('id')
                });
            } catch (e) {
                // so what
            }
        });

        app.ports.saveToken.subscribe(function({token, id}) {
            localStorage.setItem('token', token);
            localStorage.setItem('id', id);
        });
    </script>
</body>
